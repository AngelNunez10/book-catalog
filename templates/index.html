<!DOCTYPE html>
<html>
<head>
    <title>Book Browser</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>

    <nav class="navbar">
        <div class="nav-title">Book Catalog</div>
    </nav>

    <div class="main-container">
        <form method="get" class="filter-bar">
            <label for="q">Search:</label>
            <input 
                type="text" 
                id="q" 
                name="q" 
                placeholder="Title, author, or genre"
                value="{{ search_query }}"
            >
            <label for="sort">Sort by:</label>
            <select name="sort" id="sort" onchange="this.form.submit()">
                <option value="" {% if not sort_by %}selected{% endif %}>None</option>
                <option value="title" {% if sort_by == 'title' %}selected{% endif %}>Title</option>
                <option value="price" {% if sort_by == 'price' %}selected{% endif %}>Price</option>
                <option value="author" {% if sort_by == 'author' %}selected{% endif %}>Author</option>
            </select>
        </form>

        <div class="book-list">
            {% for book in books %}
                <div class="book-card">
                    
                    <img class="book-cover"
                         src="{{ book.image_url }}"
                         alt="{{ book.title }}">

                    <div class="book-info">
                        <h2>{{ book.title }}</h2>
                        <p><strong>Author:</strong> {{ book.author }}</p>
                        <p><strong>Genre:</strong> {{ book.genre }}</p>
                        <p><strong>Price:</strong> ${{ book.price }}</p>
                        <p>{{ book.description }}</p>
                    </div>

                </div>
            {% endfor %}
        </div>

    </div>

</body>
</html>
